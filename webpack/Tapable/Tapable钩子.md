##  Tapable 钩子类型

总结下来两条规则：

- 按回调逻辑，分为：

- - 基本类型，名称不带 `Waterfall/Bail/Loop` 关键字，与通常 **「订阅/回调」** 模式相似，按钩子注册顺序，逐次调用回调
  - `waterfall` 类型：前一个回调的返回值会被带入下一个回调
  - `bail` 类型：逐次调用回调，若有任何一个回调返回非 `undefined` 值，则终止后续调用
  - `loop` 类型：逐次、循环调用，直到所有回调函数都返回 `undefined`

- 第二个维度，按执行回调的并行方式，分为：

- - `async` ：**异步执行**，支持传入 `callback` 或 `promise` 风格的异步回调函数，支持 `callAsync/tapAsync` 、`promise/tapPromise` 两种调用语句
  - `sync` ：**同步执行**，启动后会按次序逐个执行回调，支持 `call/tap` 调用语句

所有钩子都可以按名称套进这两条规则里面，对插件开发者来说不同类型的钩子会直接影响到回调函数的写法，以及插件与其他插件的互通关系，但是有一些基本能力、概念是通用的：`tap/call`、`intercept`、`context`、动态编译等。



-----------

`Sync` 开头的都是同步风格的钩子，优点是执行顺序相对简单，回调之前依次执行，缺点是不能在回调中执行异步操作。除了同步钩子外，Tapable 还提供了一系列 `Async` 开头的异步钩子，支持在回调函数中执行异步操作，逻辑比较复杂。





































